<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Inicio de Sesión</title>
    <link rel="stylesheet" href="Estilos/styles_aut.css" />
    <link rel="icon" href="Imagenes/icono.png" />
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore.js"></script>
    <script src="js/init.js"></script>
</head>

<body>
    <div class="login-container">
        <a href="index.html" class="back-button">⬅️ regresar</a>
        <!-- Nuevo botón para volver -->
        <br /><br />
        <h2>¿Cómo desea iniciar sesión?</h2>
        <div class="button-container">
            <a href="sesion_G.html" class="social-button">
                <img src="Imagenes/google_logo.jpg" alt="Iniciar Sesión con Google" />
                Iniciar Sesión con Google
            </a>
        </div>
        <br />
        <center>
            <div class="fb-login-button" data-width="200" data-size="" data-button-type="" data-layout=""
                data-auto-logout-link="false" data-use-continue-as="false"></div>
        </center>
        <br /><br /><br /><br /><br /><br />
    </div>
</body>
<div id="fb-root"></div>
<script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/es_LA/sdk.js#xfbml=1&version=v18.0&appId=752532950223589"
    nonce="DEIe5BMj"></script>

<script>
    // Selecciona el elemento del botón de Facebook
    const fbLoginButton = document.querySelector(".fb-login-button");

    // Agrega un evento click al botón
    fbLoginButton.addEventListener("click", (e) => {
        e.preventDefault();

        // Crea una instancia del proveedor de autenticación de Facebook
        const provider = new firebase.auth.FacebookAuthProvider();

        // Inicia sesión con el popup de Facebook
        auth
            .signInWithPopup(provider)
            .then((result) => {
                console.log(result);
                console.log("Inicio de sesión con Facebook exitoso");

                // Redirige a la página "sesion_F.html" después del inicio de sesión exitoso
                window.location.href = "sesion_F.html";
            })
            .catch((err) => {
                console.log(err);
                console.error("Error en el inicio de sesión con Facebook");
            });
    });
</script>

</html>